<!doctype html>
<html lang="">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>${c.merchant.name}</title>

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="images/touch/chrome-touch-icon-192x192.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Web Starter Kit">
    <link rel="apple-touch-icon-precomposed" href="apple-touch-icon-precomposed.png">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#3372DF">

    <!-- SEO: If your mobile URL is different from the desktop URL, add a canonical link to the desktop page https://developers.google.com/webmasters/smartphone-sites/feature-phones -->
    <!--
    <link rel="canonical" href="http://www.example.com/">
    -->

    <!-- Page styles -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="http://yui.yahooapis.com/combo?pure/0.5.0/base-min.css&pure/0.5.0/grids-min.css&pure/0.5.0/grids-responsive-min.css">
</head>
<body ng-app="shop" ng-controller="HomeCtrl">
<header class="app-bar promote-layer">
    <div class="app-bar-container">
        <button class="menu"><img src="images/hamburger.svg" alt="Menu"></button>
        <h1 class="logo">
            <a href="/" style="text-decoration: none !important;">
                <div ng-if="merchant.logo">
                    <img src="{{ merchant.logo }}" title="{{ merchant.name }}" style="max-height: 65%;"/>
                </div>
                <div ng-if="!merchant.logo">
                    {{ merchant.name }}
                </div>
            </a>
        </h1>
        <section class="app-bar-actions">
            <!-- Put App Bar Buttons Here -->

        </section>
    </div>
</header>

<nav class="navdrawer-container promote-layer">
    <h4>Navigation</h4>
    <ul>
        <li ng-class="{active: activeCategory == 'Featured'}"><a href="#" ng-click="categoryList('Featured')">Featured</a></li>
        <li ng-repeat="cat in categories | filter:'!Featured'" ng-class="{active: activeCategory == cat}">
            <a href="#" ng-click="categoryList(cat)">{{cat}}</a>
        </li>
        <li style="position:absolute; right:2%;"><a href="#" ng-click="toCart()" title="Shopping Cart"><i style="vertical-align: middle;" class="icomoon-cart"></i></a></li>
    </ul>
</nav>

<main>
    <div id="products_list" class="pure-g" ng-controller="CtgCtrl">
        <div class="pure-u-1 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-4 pure-u-xl-1-5" ng-repeat="product in productList">
            <div class="product thumbnail" style="padding:2em 2em 1.5em; margin-bottom:0.5em;">
                <a class="product_link" href="#" ng-click="showProduct(product)" style="text-decoration: none !important;">
                    <div class="image_detail">
                        <img class="pure-img" src="http://lorempixel.com/350/500/fashion/"/>
                    </div>
                    <div class="details">
                        <div class="name small color--text">
                            {{product.name}}
                        </div>
                        <div style="text-align: right; padding-top:0.8em;">
                            <span class="color--remember base" ng-if="!product.unit_price">
                                <small></small>Enquire
                            </span>
                            <span class="color--highlight medium" ng-if="product.unit_price">
                                <span class="color--danger base" ng-if="product.mrp"><strike><small>&#8377;</small> {{product.mrp}}</strike></span>
                                 <small>&#8377;</small> {{product.unit_price}}
                            </span>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <div id="product_board" class="pure-g" ng-controller="PdtCtrl" hidden style="padding:2em 0;">
        <div class="pure-u-1 pure-u-sm-1-3 pure-u-md-1-3 pure-u-lg-2-5 pure-u-xl-2-5 centered">
            <img class="pure-img" src="http://lorempixel.com/350/500/fashion/" ng-if="product.photo[0]">
            <br/>
            <div class="small color--remember" style="text-align: left;">Browse Other Products In:</div>
            <ul class="small color--learning" style="text-align: left; padding:0;">
                <li ng-repeat="category in product.categories"> <a class="color--learning" href="#" ng-click="categoryList(category)">{{category}}</a></li>
            </ul>
        </div>
        <div class="pure-u-1 pure-u-sm-2-3 pure-u-md-2-3 pure-u-lg-3-5 pure-u-xl-3-5" style="padding-left:2.5em">
            <div class="large">{{product.name}}</div>
            <p ng-if="product.units_available > 0" class="color--user" style="margin-top:0; padding-left:5px;">In Stock</p>
            <p ng-if="product.units_available <= 0" class="color--danger" style="margin-top:0; padding-left:5px;">Out Of Stock</p>

            <br/>
            <div ng-if="is_purchasable">
                <div class="pure-g">
                    <div class="pure-u-1-2 pure-u-md-1-3 pure-u-lg-1-4" style="padding:12px 5px; margin: 13px 0;">
                        <span class="color--highlight medium">
                            <span class="color--danger base" ng-if="product.mrp"><strike><small>&#8377;</small> {{product.mrp}}</strike></span>
                            <span style="width:60px;"></span>
                            <small>&#8377;</small> {{product.unit_price}}
                        </span>
                    </div>
                    <div class="pure-u-1-2 pure-u-md-2-3 pure-u-lg-3-4">
                        <button class="button--primary base" ng-click="addCart()"> <i class="icomoon-cart"> </i> Add to Cart</button>
                        <div class="color--remember base" style="padding-top: 0;">
                            <!--<small>Free shipping available if total purchase amount is more than <span style="white-space: nowrap;"> <small>&#8377;</small> 1000</span></small>-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer class="main-footer">
    <div class="main-footer__container container clear">
        <div class="pure-g main-footer__list-group">
            <div class="pure-u-1 pure-u-sm-1-3 pure-u-md-1-4" style="text-align: right">
                <ul class="main-footer__list">
                    <li><a href="/privacy_policy">Privacy Policy</a></li>
                    <li><a href="/terms_of_use">Terms of Use</a></li>
                    <li><a href="/delivery">Delivery</a></li>
                    <li><a href="/cancellations_and_returns">Cancellations and Returns</a></li>
                    <li><a href="/refunds">Refunds</a></li>
                    <li><a href="/disclaimer">Disclaimer</a></li>
                </ul>
            </div>
            <div class="pure-u-1 pure-u-sm-1-3 pure-u-md-1-2" style="text-align: justify">
                <div class="large centered color--muted">About US</div>
                <p class="base">${c.merchant.description}</p>
            </div>
            <div class="pure-u-1 pure-u-sm-1-3 pure-u-md-1-4" style="text-align: left; padding-left:30px; border-left: 1px solid #aaa;">
                <div>${c.org.registered_address.street}</div>
                <div>${c.org.registered_address.city} - ${c.org.registered_address.pincode}</div>
            </div>
        </div>
    </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-route.js"></script>

<!-- build:js scripts/main.min.js -->
<script src="scripts/main.js"></script>
<!-- endbuild -->

<!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-XXXXX-X', 'auto');
    ga('send', 'pageview');
</script>
<!-- Built with love using Web Starter Kit -->
</body>
</html>

<!--

TODO:

 1. Make sections for each part. Routes not required, because all views are there is different divs.
 2. Add transitions, show / hide effects.
 3. Load Featured Category by default: Show Featured Category as the first category.
 4. Launch Category view in the main products section: Shows thumbnails, title and price.
 5. On product click, launch product info overlay.
 6. On add to cart, show the cart sidebar.
 7. Add footer as part of general details.
 8. Look at communication between controllers in ng.

-->